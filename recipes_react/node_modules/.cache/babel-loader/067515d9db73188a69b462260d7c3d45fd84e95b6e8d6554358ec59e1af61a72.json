{"ast":null,"code":"var _jsxFileName = \"/Users/zhangyuzhou/neu/2023fall/cs5610web/project/recipes-react-app/src/components/Details.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Link, useParams } from \"react-router-dom\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { getCommentsForRecipe } from './commentsClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RecipeDetails = ({\n  match\n}) => {\n  _s();\n  const {\n    recipeId\n  } = useParams();\n  const [recipe, setRecipe] = useState(null);\n  const [commentContent, setCommentContent] = useState('');\n  const [comments, setComments] = useState([]);\n  //   const [user, setUser] = useState({\n  //     id: 1,\n  //     username: 'example_user',\n  //     email: 'user@example.com',\n  //     saved: ['52772', 'other_recipe_id'], // 保存的菜谱ID列表\n  //     // 其他用户信息...\n  //   });\n  const [isSaved, setIsSaved] = useState(false);\n  const user = {\n    id: 1,\n    username: 'example_user',\n    email: 'user@example.com',\n    saved: ['52772', 'other_recipe_id'] // 保存的菜谱ID列表\n    // 其他用户信息...\n  };\n\n  useEffect(() => {\n    const fetchRecipeAndComments = async () => {\n      try {\n        // 获取菜谱信息\n        const response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${recipeId}`);\n        const data = await response.json();\n        setRecipe(data.meals[0]);\n        const recipeSaved = isRecipeSaved(); // 检查菜谱是否已保存\n        setIsSaved(recipeSaved); // 设置isSaved状态\n        // 获取评论信息\n        const commentsData = await getCommentsForRecipe(recipeId);\n        setComments(commentsData.comments);\n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchRecipeAndComments();\n  }, [recipeId]);\n  const handlePostComment = async () => {\n    const userId = user.id; // 获取用户ID\n    const commentId = uuidv4(); // 生成评论的唯一ID\n    const commentData = {\n      commentId: commentId,\n      userId: userId,\n      recipeId: recipeId,\n      // 使用你的recipeId变量\n      commentContent: commentContent,\n      time: new Date().toISOString() // 获取当前时间\n    };\n\n    try {\n      const response = await fetch('backend_url/comments', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(commentData)\n      });\n      if (response.ok) {\n        // 在此处处理成功发送评论后的逻辑\n        // 例如清除输入框中的内容，更新评论列表等\n        setCommentContent(''); // 清空评论内容\n        // 更新评论列表等操作\n      } else {\n        // 处理请求失败的情况\n        console.error('Failed to post comment');\n      }\n    } catch (error) {\n      console.error('Error posting comment:', error);\n    }\n  };\n  const isRecipeSaved = () => {\n    if (user && user.saved) {\n      if (user.saved.includes(recipeId)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  const handleSave = () => {\n    if (user) {\n      if (isSaved) {\n        // 执行取消保存的逻辑，从 SaveLists 表中删除保存项\n        console.log('Unsave recipe');\n        // set current user with new saved\n        const updatedSaved = user.saved.filter(id => id !== recipeId);\n        // setUser({ ...user, saved: updatedSaved });\n        //使用 fetch 或其他适当的方法向后端发送取消保存请求\n        setIsSaved(!isSaved);\n      } else {\n        // 执行保存的逻辑，将保存项添加到 SaveLists 表中\n        const saveObject = {\n          saveId: 'save_id_here',\n          userId: 'user_id_here',\n          recipeId: recipeId,\n          time: new Date().toISOString()\n        };\n        const updatedSaved = [...user.saved, 'uniqueIdentifier'];\n        console.log('Save recipe:', saveObject);\n        // setUser({ ...user, saved: updatedSaved });\n        // 使用 fetch 或其他适当的方法向后端发送保存请求\n        setIsSaved(!isSaved);\n      }\n    } else {\n      console.log('User is not logged in');\n      // 在这里触发登录界面或者显示提示信息\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      color: 'white',\n      backgroundColor: 'black',\n      width: '100%',\n      height: '100vh'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-4\",\n      children: [recipe ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 mb-4\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: recipe.strMealThumb,\n            alt: recipe.strMeal,\n            className: \"img-fluid\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: recipe.strMeal\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [recipe.strArea, \" | \", recipe.strTags]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Ingredients\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: Object.keys(recipe).filter(key => key.includes('strIngredient') && recipe[key]).map((ingredientKey, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [recipe[ingredientKey], \" - \", recipe[`strMeasure${ingredientKey.slice(13)}`]]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Instructions\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: recipe.strInstructions\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 9\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading recipe...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleSave,\n          style: {\n            backgroundColor: 'black'\n          },\n          children: isSaved ? 'Unsave' : 'Save'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), user && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 162,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          rows: \"4\",\n          className: \"form-control mb-2\",\n          placeholder: \"Write your comment here...\",\n          value: commentContent,\n          onChange: e => setCommentContent(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handlePostComment,\n          style: {\n            backgroundColor: 'black'\n          },\n          children: \"Post\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n          children: \"Comments\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: comments.map((comment, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: `/Profile/${comment.userId}`,\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"User ID: \", comment.userId]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 58\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Comment: \", comment.commentContent]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 185,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Time: \", comment.time]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 186,\n              columnNumber: 15\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 13\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 5\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 126,\n    columnNumber: 5\n  }, this);\n};\n_s(RecipeDetails, \"djP2iaCExbKnFthDzK2XQiLtaKE=\", false, function () {\n  return [useParams];\n});\n_c = RecipeDetails;\nexport default RecipeDetails;\nvar _c;\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useState","useEffect","Link","useParams","v4","uuidv4","getCommentsForRecipe","jsxDEV","_jsxDEV","RecipeDetails","match","_s","recipeId","recipe","setRecipe","commentContent","setCommentContent","comments","setComments","isSaved","setIsSaved","user","id","username","email","saved","fetchRecipeAndComments","response","fetch","data","json","meals","recipeSaved","isRecipeSaved","commentsData","error","console","handlePostComment","userId","commentId","commentData","time","Date","toISOString","method","headers","body","JSON","stringify","ok","includes","handleSave","log","updatedSaved","filter","saveObject","saveId","style","color","backgroundColor","width","height","children","className","src","strMealThumb","alt","strMeal","fileName","_jsxFileName","lineNumber","columnNumber","strArea","strTags","Object","keys","key","map","ingredientKey","index","slice","strInstructions","onClick","rows","placeholder","value","onChange","e","target","comment","to","_c","$RefreshReg$"],"sources":["/Users/zhangyuzhou/neu/2023fall/cs5610web/project/recipes-react-app/src/components/Details.js"],"sourcesContent":["import React, { useState, useEffect} from 'react';\nimport { Link, useParams } from \"react-router-dom\";\nimport { v4 as uuidv4 } from 'uuid';\nimport { getCommentsForRecipe } from './commentsClient';\n\nconst RecipeDetails = ({ match }) => {\n  const { recipeId } = useParams();\n  const [recipe, setRecipe] = useState(null);\n  const [commentContent, setCommentContent] = useState('');\n  const [comments, setComments] = useState([]);\n//   const [user, setUser] = useState({\n//     id: 1,\n//     username: 'example_user',\n//     email: 'user@example.com',\n//     saved: ['52772', 'other_recipe_id'], // 保存的菜谱ID列表\n//     // 其他用户信息...\n//   });\n  const [isSaved, setIsSaved] = useState(false);\n\n  const user ={\n    id: 1,\n    username: 'example_user',\n    email: 'user@example.com',\n    saved: ['52772', 'other_recipe_id'], // 保存的菜谱ID列表\n    // 其他用户信息...\n  }\n  \n  useEffect(() => {\n    const fetchRecipeAndComments = async () => {\n      try {\n        // 获取菜谱信息\n        const response = await fetch(`https://www.themealdb.com/api/json/v1/1/lookup.php?i=${recipeId}`);\n        const data = await response.json();\n        setRecipe(data.meals[0]);\n\n        const recipeSaved = isRecipeSaved(); // 检查菜谱是否已保存\n        setIsSaved(recipeSaved); // 设置isSaved状态\n        // 获取评论信息\n        const commentsData = await getCommentsForRecipe(recipeId);\n        setComments(commentsData.comments);\n       \n      \n      } catch (error) {\n        console.error('Error fetching data:', error);\n      }\n    };\n    fetchRecipeAndComments();\n  },  [recipeId]);\n\n  \n  const handlePostComment = async () =>{\n    const userId = user.id; // 获取用户ID\n    const commentId = uuidv4(); // 生成评论的唯一ID\n    const commentData = {\n        commentId: commentId,\n        userId: userId,\n        recipeId: recipeId, // 使用你的recipeId变量\n        commentContent: commentContent,\n        time: new Date().toISOString(), // 获取当前时间\n    };\n    try {\n        const response = await fetch('backend_url/comments', {\n            method: 'POST',\n            headers: {\n              'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(commentData),\n          });\n      \n          if (response.ok) {\n            // 在此处处理成功发送评论后的逻辑\n            // 例如清除输入框中的内容，更新评论列表等\n            setCommentContent(''); // 清空评论内容\n            // 更新评论列表等操作\n        } else {\n          // 处理请求失败的情况\n          console.error('Failed to post comment');\n        }\n      } catch (error) {\n        console.error('Error posting comment:', error);\n      }\n  };\n\n  const isRecipeSaved = () => {\n    if (user&& user.saved) {\n       \n      if (user.saved.includes(recipeId)){\n        return true;\n      }\n    }\n    return false;\n  };\n\n  const handleSave = () => {\n    if (user) {\n      if (isSaved) {\n        // 执行取消保存的逻辑，从 SaveLists 表中删除保存项\n        console.log('Unsave recipe');\n        // set current user with new saved\n        const updatedSaved = user.saved.filter(id => id !== recipeId);\n        // setUser({ ...user, saved: updatedSaved });\n        //使用 fetch 或其他适当的方法向后端发送取消保存请求\n        setIsSaved(!isSaved);\n\n      } else {\n        // 执行保存的逻辑，将保存项添加到 SaveLists 表中\n        const saveObject = {\n          saveId: 'save_id_here',\n          userId: 'user_id_here',\n          recipeId: recipeId,\n          time: new Date().toISOString(),\n        };\n        const updatedSaved=[...user.saved, 'uniqueIdentifier'];\n        console.log('Save recipe:', saveObject);\n        // setUser({ ...user, saved: updatedSaved });\n        // 使用 fetch 或其他适当的方法向后端发送保存请求\n        setIsSaved(!isSaved);\n      }\n    } else {\n      console.log('User is not logged in');\n      // 在这里触发登录界面或者显示提示信息\n    }\n  };\n\n  return (\n    <div style={{ color: 'white', backgroundColor: 'black', width: '100%', height: '100vh' }}>\n    <div className=\"container mt-4\" >\n      {recipe ? (\n        <div className=\"row\">\n          <div className=\"col-md-6 mb-4\">\n            <img src={recipe.strMealThumb} alt={recipe.strMeal} className=\"img-fluid\" />\n          </div>\n          <div className=\"col-md-6\">\n            <h2>{recipe.strMeal}</h2>\n            <p>{recipe.strArea} | {recipe.strTags}</p>\n            <h4>Ingredients</h4>\n            <ul>\n              {Object.keys(recipe)\n                .filter(key => key.includes('strIngredient') && recipe[key])\n                .map((ingredientKey, index) => (\n                  <li key={index}>{recipe[ingredientKey]} - {recipe[`strMeasure${ingredientKey.slice(13)}`]}</li>\n                ))}\n            </ul>\n            <h4>Instructions</h4>\n            <p>{recipe.strInstructions}</p>\n          </div>\n        </div>\n      ) : (\n        <p>Loading recipe...</p>\n      )}\n       {/* 保存或取消保存按钮 */}\n       {user && (\n        <div className=\"mb-4\">\n          <button className=\"btn btn-primary\" onClick={handleSave} style={{ backgroundColor:'black'}}>\n            {isSaved ? 'Unsave' : 'Save'}\n          </button>\n        </div>\n      )}\n\n      {user && (\n        <div className=\"mb-4\">\n          <h4>Comments</h4>\n          <textarea\n            rows=\"4\"\n            className=\"form-control mb-2\"\n            placeholder=\"Write your comment here...\"\n            value={commentContent}\n            onChange={(e) => setCommentContent(e.target.value)}\n          ></textarea>\n          <button className=\"btn btn-primary\" onClick={handlePostComment} style={{ backgroundColor:'black'}}>\n            Post\n          </button>\n        </div>\n      )}\n      \n\n      {/* 显示已有的评论 */}\n      <div className=\"mb-4\">\n        <h4>Comments</h4>\n        <ul>\n          {comments.map((comment, index) => (\n            <li key={index}>\n                <Link to={`/Profile/${comment.userId}`}> <p>User ID: {comment.userId}</p></Link>\n             \n              <p>Comment: {comment.commentContent}</p>\n              <p>Time: {comment.time}</p>\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n    </div>\n  );\n};\n\nexport default RecipeDetails;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}